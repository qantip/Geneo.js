<html>
<head>
  <title>Testing Unit | Geneo</title>
  <script src="../geneo.js"></script>
</head>
<body>
  <script>
    console.log("testing Geneo class");
    g = new Geneo();
    g.setDnaLength(10);
    g.setDnaLength(15);
    g.setAllWrap(true);
    g.setAllWrap(false);
    g.setAllMode(1);
    g.setAllMode(0);
    g.setAllRange(-5,5);
    g.setAllRange(3,10.5);
    g.setAllRange(0,100);
    g.setGenWrap(0,false);
    g.setGenMode(1,1);
    g.setGenMode(1,0);
    g.setGenRange(6,-5,-0.8);
    g.setGenRange(6,0,100);
    console.log("empty Dna with default decimals count");
    d = g.newDna();
    d.echo();
    console.log("random Dna with 4 decimals");
    e = d.copy();
    e.mutate(1,1);
    e.echo();
    d.echo();
    console.log("upper lines should be different");
    d = g.randomDna();
    d.echo(4);
    p = g.newPopulation(10);
    console.log("random dna from population (one decimal)");
    p[9].echo(1);
    console.log("Lenght check - should be true:", g.lengthCheck(p) );

    console.log("testing Dna class");
    d = new Dna(5);
    d.mutate(1,1);
    //console.log("Gen value of randomized Dna:", d.get(2));
    //console.log("Gen raw value of randomized Dna:", d.getRaw(2));
    d.set(3,0.5);
    console.log("Dna set shoulde be 0.5:", d.get(3));
    d.setRaw(3,0.1);
    console.log("Dna setRaw shoulde be 0.1:", d.getRaw(3));
    d.setWrap(1,true);
    d.setWrap(1,false);
    d.setRaw(2,0.5);
    d.setRange(2,2,5);
    console.log("dna set Range, should be 3.5:", d.get(2));
    d.setMode(2,1);
    console.log("dna set Range, should be 4:", d.get(2));
    d.setMode(2,0);
    d = new Dna(5);
    console.log("dna mutate test:");
    for(var i = 0; i < 10; i++){
      d.echo(3);
      d.mutate(0.5,0.5);
    }
    console.log("dna length(), should be 5:", d.length());

    g = new Gen(0);
    h = g.copy();
    h.mutate(1);
    console.log("Gen Value, should be 0:", g.get(),"Copy Gen value, shold be different", h.get());

    console.log("testing done")

    d = new Dna(5);
    e = new Dna(5);
    d.echo();
    e.mutate(1,1);
    e.echo();
    f = e.combine(d);
    f.echo();
  </script>
</body>
</html>
